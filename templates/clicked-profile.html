<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ConferenceHub Profile</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="..\static\clicked-profile.css">
</head>
<body>
  <nav class="nav-sidebar">
    <div class="brand">
      <i class="fas fa-video"></i>
      <span>ConferenceHub</span>
    </div>

    <div class="nav-items">
      <button class="nav-item" onclick="window.location.href='dashboard.html'">
        <i class="fas fa-home"></i>
        <span>Dashboard</span>
        <div class="active-indicator"></div>
      </button>
      <button class="nav-item" onclick="window.location.href='networking-page.html'">
        <i class="fas fa-users"></i>
        <span>Networking</span>
        <div class="active-indicator"></div>
      </button>
      <button class="nav-item" onclick="window.location.href='profile.html'">
        <i class="fas fa-user"></i>
        <span>Profile</span>
        <div class="active-indicator"></div>
      </button>
      <button class="nav-item" onclick="window.location.href='sessions.html'">
        <i class="fas fa-video"></i>
        <span>Sessions</span>
        <div class="active-indicator"></div>  
      </button>
      <button class="nav-item" onclick="window.location.href='settings.html'">
        <i class="fas fa-cog"></i>
        <span>Settings</span>
        <div class="active-indicator"></div>
      </button>
    </div>

    <div class="user-profile" style="position: sticky; margin-top: auto; padding-top: 2rem;">
      <div class="profile-card">
        <div class="profile-content">
          <div class="avatar">
            <i class="fas fa-user-circle"></i>
          </div>
          <div class="user-info">
            <div class="user-name">John Doe</div>
            <div class="user-email">john@example.com</div>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <div class="main-container">
    <button class="back-button" onclick="history.back()">
      <i class="fas fa-arrow-left"></i>
      Back
    </button>

    <div class="profile-content-wrapper">
      <div class="profile-info-section">
        <div class="profile-card-container">
          <div class="profile-banner">
            <div class="large-avatar">
              <i class="fas fa-user-circle"></i>
            </div>
          </div>
          <div class="profile-details">
            <h2 class="profile-name">John Doe</h2>
            <p class="profile-email">john@example.com</p>
            
            <div class="profile-info-list">
              <div class="profile-info-item">
                <div class="info-icon">
                  <i class="fas fa-briefcase"></i>
                </div>
                <div class="info-content">
                  <div class="info-label">Job Title</div>
                  <div class="info-value">Senior Product Manager</div>
                </div>
              </div>
              
              <div class="profile-info-item">
                <div class="info-icon">
                  <i class="fas fa-building"></i>
                </div>
                <div class="info-content">
                  <div class="info-label">Company</div>
                  <div class="info-value">TechInnovate Solutions</div>
                </div>
              </div>
              
              <div class="profile-info-item">
                <div class="info-icon">
                  <i class="fas fa-map-marker-alt"></i>
                </div>
                <div class="info-content">
                  <div class="info-label">Location</div>
                  <div class="info-value">San Francisco, CA</div>
                </div>
              </div>
              
              <div class="profile-info-item">
                <div class="info-icon">
                  <i class="fas fa-calendar-alt"></i>
                </div>
                <div class="info-content">
                  <div class="info-label">Member Since</div>
                  <div class="info-value">March 12, 2023</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="profile-stats-section">
        <div class="profile-card-container">
          <div class="card-header">
            <h3 class="card-title">Conference Stats</h3>
          </div>
          <div class="stats-container">
            <div class="stat-row">
              <div class="stat-card">
                <div class="stat-value">12</div>
                <div class="stat-label">Sessions Attended</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">4</div>
                <div class="stat-label">Presentations Given</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">28</div>
                <div class="stat-label">Connections Made</div>
              </div>
            </div>
            
            <div class="session-history">
              <div class="card-header" style="padding: 0 0 1rem 0;">
                <h3 class="card-title">Session History</h3>
              </div>
              
              <div class="session-item">
                <div class="session-icon">
                  <i class="fas fa-chalkboard-teacher"></i>
                </div>
                <div class="session-details">
                  <div class="session-title">AI Ethics in Product Development</div>
                  <div class="session-date">Apr 30, 2025 • 10:00 AM</div>
                </div>
              </div>
              
              <div class="session-item">
                <div class="session-icon">
                  <i class="fas fa-users"></i>
                </div>
                <div class="session-details">
                  <div class="session-title">Networking: Product Managers Roundtable</div>
                  <div class="session-date">May 2, 2025 • 2:30 PM</div>
                </div>
              </div>
              
              <div class="session-item">
                <div class="session-icon">
                  <i class="fas fa-video"></i>
                </div>
                <div class="session-details">
                  <div class="session-title">Workshop: User Research Methods</div>
                  <div class="session-date">Apr 28, 2025 • 9:00 AM</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Mock data structure for backend reference
    const mockProfileData = {
      user: {
        id: "usr_123",
        name: "John Doe",
        email: "john@example.com",
        avatar: null,
        jobTitle: "Senior Product Manager",
        company: "TechInnovate Solutions",
        location: "San Francisco, CA",
        memberSince: "2023-03-12",
        stats: {
          sessionsAttended: 12,
          presentationsGiven: 4,
          connections: 28
        },
        upcomingSessions: [
          {
            id: "ses_1",
            title: "AI Ethics in Product Development",
            date: "2025-04-30T10:00:00Z",
            type: "presentation",
            status: "upcoming"
          }
          // ... other sessions
        ]
      }
    };

    /* Required Backend APIs:
     * GET    /api/profile/{userId} - Get user profile
     * PUT    /api/profile/{userId} - Update profile
     * POST   /api/profile/avatar - Upload avatar
     * GET    /api/profile/sessions - Get user sessions
     * GET    /api/profile/stats - Get user statistics
     */

    // @TODO: Load profile data on page load
    document.addEventListener('DOMContentLoaded', async () => {
      try {
        // @TODO: Replace with actual API call
        // const response = await fetch(`/api/profile/${userId}`);
        loadProfileData(mockProfileData.user);
      } catch (error) {
        console.error('Failed to load profile:', error);
      }
    });

    // Edit profile handler with form validation
    document.querySelector('.edit-profile-btn').addEventListener('click', async () => {
      try {
        // @TODO: Implement modal or redirect to edit form
        // @TODO: Add validation
        // @TODO: Handle avatar upload
        // POST /api/profile/avatar
        // PUT  /api/profile/{userId}
      } catch (error) {
        console.error('Failed to update profile:', error);
      }
    });

    // Helper function to load profile data
    function loadProfileData(userData) {
      // @TODO: Implement profile data loading
      // Update DOM with user data
      // Update stats
      // Update sessions list
    }

    // Navigation functionality
    document.querySelectorAll('.nav-item').forEach(item => {
      item.addEventListener('click', () => {
        const pageName = item.querySelector('span').textContent.toLowerCase();
        
        // Handle navigation
        if (pageName === 'dashboard') {
          window.location.href = 'dashboard.html';
        } else if (pageName === 'networking') {
          window.location.href = 'networking-page.html';
        } else if (pageName === 'profile') {
          window.location.href = 'profile.html';
        } else if (pageName === 'sessions') {
          window.location.href = 'sessions.html';
        } else if (pageName === 'settings') {
          window.location.href = 'settings.html';
        }
      });
    });

    // Add click handler for edit profile button
    document.querySelector('.edit-profile-btn').addEventListener('click', () => {
      alert('Edit profile feature would open here');
    });
  </script>
</body>
</html>